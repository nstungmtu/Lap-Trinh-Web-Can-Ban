<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>01. Giới thiệu Javascript</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="../highlight/styles/vs.css">
    <script type="text/javascript" src="../highlight/highlight.min.js"></script>
    <script type="text/javascript">hljs.highlightAll();</script>
</head>
<body>
    <h1>Giới thiệu về Javascript</h1>
    <p>
        <b>Javascript (JS)</b> là ngôn ngữ lập trình dạng thông dịch (dịch lúc thực thi). Mặc dù được biết đến là ngôn ngữ kịch bản cho các trang web, hiện nay Javascript trở thành ngôn ngữ lập trình thông dụng nhất do còn được sử dụng trên các nền tảng không phải trình duyệt, đặc biệt Node.js, một nền tảng máy lập trình chủ web và ứng dụng đa nền tảng.
    </p>
    <p>
        Javascript cho phép bạn thực hiện các chức năng phức tạp trên các trang web, thông dụng nhất bao gồm: kiểm tra dữ liệu nhập trên form (form validation); thay đổi nội dung trang web; thay đổi CSS; hiển thị thông báo; đồ họa 2D/3D...
    </p>
    <hr>
    <h2>Một số chức năng chính của Javascript</h2>
    <article>
        <h3>Thay đổi thuộc tính của phần tử trong trang web</h3>
        <div>
<pre><code>
function changeBulbColor(){
    document.getElementById("vd1").
    setAttribute("data-bgpos", Math.floor(Math.random()*6));
}
</code></pre>
            <div data-bgpos="1" class="vd1" id="vd1"></div><button onclick="changeBulbColor()">Đổi màu bóng đèn</button>
            <script>
                function changeBulbColor(){
                    document.getElementById("vd1").
                    setAttribute("data-bgpos", Math.floor(Math.random()*6));
                }
            </script>
        </div>
    </article>
    <hr>
    <article>
        <h3>Thay đổi nội dung của trang web</h3>
        <div>
<pre><code>
function addElement(){
    var elm = document.createElement("div");
    var text = document.createTextNode(Date.now());
    elm.appendChild(text);
    document.getElementById("vd2").
    appendChild(elm);
}
function removeElement(){
    var elm = document.getElementById("vd2");
    elm.removeChild(elm.childNodes[elm.childNodes.length -1]);
}
</code></pre>
            <div class="vd2" id="vd2"></div>
            <button onclick="addElement()">Thêm phần tử vào trang web</button>
            <button onclick="removeElement()">Xóa phần tử khỏi trang web</button>
            <script>
                function addElement(){
                    var elm = document.createElement("div");
                    var text = document.createTextNode(Date.now());
                    elm.appendChild(text);
                    document.getElementById("vd2").
                    appendChild(elm);
                }
                function removeElement(){
                    var elm = document.getElementById("vd2");
                    elm.removeChild(elm.childNodes[elm.childNodes.length -1]);
                }
            </script>
        </div>
    </article>
    <hr>
    <article>
        <h3>Thay đổi CSS của trang web</h3>
        <div>
<pre><code>
function changeColor(){
    var elm = document.getElementById("vd3");
    elm.style.backgroundColor = 
    "rgb("+
    Math.floor(Math.random()*255)+","+
    Math.floor(Math.random()*255)+","+
    Math.floor(Math.random()*255)+")";
}
</code></pre>
            <div class="vd3" id="vd3">Nhấn vào nút kế bên để đổi màu nền của tôi</div>
            <button onclick="changeColor()">Đổi màu</button>
            <script>
                function changeColor(){
                    var elm = document.getElementById("vd3");
                    elm.style.backgroundColor = 
                    "rgb("+
                    Math.floor(Math.random()*255)+","+
                    Math.floor(Math.random()*255)+","+
                    Math.floor(Math.random()*255)+")";
                }
            </script>
        </div>
    </article>
    <article>
        <h3>Đồ họa 2D/3D</h3>
        <div>
            <canvas id="2dCanvas" width="300px" height="300px" style="background-color: black;"></canvas>
<script>
/*Source: https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Basic_animations*/
const sun = new Image();
const moon = new Image();
const earth = new Image();
const ctx = document.getElementById("2dCanvas").getContext("2d");

function init() {
    sun.src = "img/sun.png";
    moon.src = "img/moon.png";
    earth.src = "img/earth.png";
    window.requestAnimationFrame(draw);
}

function draw(){
    const time = new Date();
    ctx.globalCompositeOperation = "destination-over";
    ctx.clearRect(0, 0, 300, 300); // clear canvas
    ctx.fillStyle = "rgb(0 0 0 / 40%)";
    ctx.strokeStyle = "rgb(0 153 255 / 40%)";
    ctx.lineWidth = 2;
    ctx.save();
    ctx.translate(150, 150);

    // Earth
    ctx.rotate(
        ((2 * Math.PI) / 60) * time.getSeconds() +
        ((2 * Math.PI) / 60000) * time.getMilliseconds(),
    );
    ctx.translate(105, 0);
    ctx.fillRect(0, -15, 90, 30); // Shadow
    ctx.save();

    ctx.rotate(
        ((Math.PI)) * time.getSeconds() +
        ((Math.PI) / 1000) * time.getMilliseconds(),
    );
    ctx.drawImage(earth, -15, -15, 30, 30);
    ctx.restore();

    // Moon
    ctx.save();
    ctx.rotate(
        ((2 * Math.PI) / 5) * time.getSeconds() +
        ((2 * Math.PI) / 5000) * time.getMilliseconds(),
    );
    ctx.translate(0, 28.5);
    ctx.drawImage(moon, 0, 0, 15, 15);
    ctx.restore();

    ctx.restore();

    ctx.beginPath();
    ctx.arc(150, 150, 105, 0, Math.PI * 2, false); // Earth orbit
    ctx.stroke();

    ctx.drawImage(sun, 100, 100, 100, 100);

    window.requestAnimationFrame(draw);
}

init();

</script>
        </div>
    </article>
</body>
</html>